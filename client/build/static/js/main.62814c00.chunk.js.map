{"version":3,"sources":["context/AppReducer.js","context/GlobalState.js","utils/format.js","components/IncomeExpenses.js","components/Balance.js","components/header.js","components/Transaction.js","components/TransactionList.js","components/AddTransaction.js","App.js","index.js"],"names":["state","action","type","loading","transactions","payload","filter","transaction","_id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","axios","get","res","data","response","id","delete","config","headers","post","console","log","Provider","value","getTransactions","deleteTransaction","addTransaction","numberWithCommas","x","toString","replace","IncomeExpenses","amounts","useContext","map","amount","income","item","reduce","acc","toFixed","expense","className","Balance","total","Header","Transaction","sign","text","Math","abs","onClick","TransactionList","useEffect","key","AddTransaction","useState","setText","setAmount","onSubmit","e","preventDefault","newTransaction","floor","random","htmlFor","onChange","target","placeholder","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.62814c00.chunk.js","sourcesContent":["export default (state, action) => {\r\n    switch (action.type) {\r\n      case \"GET_TRANSACTIONS\":\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          transactions: action.payload\r\n        };\r\n      case \"DELETE_TRANSACTION\":\r\n        return {\r\n          ...state,\r\n          transactions: state.transactions.filter(\r\n            transaction => transaction._id !== action.payload\r\n          )\r\n        };\r\n      case \"ADD_TRANSACTION\":\r\n        return {\r\n          ...state,\r\n          transactions: [...state.transactions, action.payload]\r\n        };\r\n      case \"TRANSACTION_ERROR\":\r\n        return {\r\n          ...state,\r\n          error: action.payload\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };","import React, {createContext,useReducer} from 'react';\r\nimport AppReducer from './AppReducer';\r\nimport axios from 'axios';\r\n//initial state\r\nconst initialState={\r\n    transactions:[],\r\n    error:null,\r\n    loading:true\r\n}\r\n\r\n//create context\r\nexport const GlobalContext=createContext(initialState);\r\n\r\n//provider component\r\nexport const GlobalProvider=({children}) => {\r\n    const [state,dispatch]=useReducer(AppReducer,initialState);\r\n    //actions \r\n\r\n    \r\n    async function getTransactions() {\r\n        try {\r\n          const res = await axios.get(\"/api/v1/transactions\");\r\n          dispatch({\r\n            type: \"GET_TRANSACTIONS\",\r\n            payload: res.data.data\r\n          });\r\n        } catch (err) {\r\n          dispatch({\r\n            type: \"TRANSACTION_ERROR\",\r\n            payload: err.response.data.error\r\n          });\r\n        }\r\n      }\r\n    \r\n      async function deleteTransaction(id) {\r\n        try {\r\n          await axios.delete(`/api/v1/transactions/${id}`);\r\n          dispatch({\r\n            type: \"DELETE_TRANSACTION\",\r\n            payload: id\r\n          });\r\n        } catch (err) {\r\n          dispatch({\r\n            type: \"TRANSACTION_ERROR\",\r\n            payload: err.response.data.error\r\n          });\r\n        }\r\n      }\r\n    \r\n      async function addTransaction(transaction) {\r\n        const config = {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n        };\r\n        try {\r\n            //fetches transactions from the backend(axios)\r\n          const res = await axios.post(\"/api/v1/transactions\", transaction, config);\r\n          dispatch({\r\n            type: \"ADD_TRANSACTION\",\r\n            payload: res.data.data\r\n          });\r\n        } catch (err) {\r\n          console.log(err);\r\n          dispatch({\r\n            type: \"TRANSACTION_ERROR\",\r\n            payload: err.response.data.error\r\n          });\r\n        }\r\n      }\r\n    \r\n\r\n    return (<GlobalContext.Provider value={{\r\n        transactions:state.transactions,\r\n        error:state.error,\r\n        loading:state.loading,\r\n        getTransactions,\r\n        deleteTransaction,\r\n        addTransaction\r\n    }}>\r\n\r\n        {children}\r\n    </GlobalContext.Provider>)\r\n}\r\n","export function numberWithCommas(x) {\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  }\r\n  ","import React,{useContext} from 'react'\r\nimport {GlobalContext} from '../context/GlobalState';\r\nimport { numberWithCommas } from \"../utils/format\";\r\nexport const IncomeExpenses = () => {\r\n  const {transactions}=useContext(GlobalContext);\r\n  const amounts = transactions.map(transaction => transaction.amount);\r\n  \r\n  const income = amounts\r\n    .filter(item => item > 0)\r\n    .reduce((acc, item) => (acc += item), 0)\r\n    .toFixed(2);\r\n\r\n  const expense = (\r\n    amounts.filter(item => item < 0).reduce((acc, item) => (acc += item), 0) *\r\n    -1\r\n  ).toFixed(2);\r\n    return (\r\n       \r\n            <div className=\"inc-exp-container\">\r\n        <div>\r\n          <h4>Income</h4>\r\n          <p  className=\"money plus\">+{numberWithCommas(income)}</p>\r\n        </div>\r\n        <div>\r\n          <h4>Expense</h4>\r\n          <p  className=\"money minus\">-{numberWithCommas(expense)}</p>\r\n        </div>\r\n      </div>\r\n       \r\n    )\r\n}\r\n","import React,{useContext} from 'react'\r\nimport {GlobalContext} from '../context/GlobalState';\r\nimport { numberWithCommas } from \"../utils/format\";\r\nexport const Balance = () => {\r\n    const {transactions}=useContext(GlobalContext);\r\n    const amounts=transactions.map(transaction=> transaction.amount);\r\n    const total=amounts.reduce((acc,item)=>(acc +=item),0).toFixed(2);\r\n    return (\r\n        <>\r\n            <h4>Your Balance</h4>\r\n            <h1 > { numberWithCommas(total)}</h1>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport const Header = () => {\r\n    return (\r\n        <div>\r\n            <h2>\r\n            Expense Tracker\r\n        </h2>\r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\n","import React,{useContext} from 'react'\r\nimport {GlobalContext} from '../context/GlobalState';\r\nimport { numberWithCommas } from \"../utils/format\";\r\nexport const Transaction = ({transaction}) => {\r\n    const {deleteTransaction}=useContext(GlobalContext);\r\n\r\n    const sign=transaction.amount < 0 ? '-' : '+';\r\n    return (\r\n        <>\r\n          <li className={transaction.amount < 0 ? 'minus' : 'plus' }>\r\n         {transaction.text}\r\n          <span>{sign}{numberWithCommas(Math.abs(transaction.amount))}</span>\r\n          <button  onClick={()=>deleteTransaction(transaction._id)}  className=\"delete-btn\">x</button></li>  \r\n        </>\r\n    )\r\n}\r\n","import React,{useContext,useEffect} from 'react';\r\nimport {GlobalContext} from '../context/GlobalState';\r\nimport {Transaction} from './Transaction';\r\nexport const TransactionList = () => {\r\n  const {transactions,getTransactions}=useContext(GlobalContext);\r\n  useEffect(()=>{\r\n    getTransactions();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  },[]);\r\n  \r\n    return (\r\n        <>\r\n            <h3>History</h3>\r\n      <ul  className=\"list\">\r\n        {transactions.map(transaction=>\r\n        (<Transaction key={transaction.id} transaction={transaction} /> ))}\r\n        \r\n        \r\n         \r\n      </ul>\r\n        </>\r\n    )\r\n}\r\n","import React,{useState,useContext} from 'react';\r\nimport {GlobalContext} from '../context/GlobalState';\r\nexport const AddTransaction = () => {\r\n  \r\n    const [text,setText]=useState('');\r\n    const [amount,setAmount]=useState(0);\r\n    const {addTransaction}=useContext(GlobalContext);\r\n    const onSubmit=e=> {\r\n      e.preventDefault();\r\n      const newTransaction={\r\n        id:Math.floor(Math.random() * 1000000000),\r\n        text,\r\n        //this will turn it into a number\r\n        amount: +amount\r\n      }\r\n      addTransaction(newTransaction);\r\n    }\r\n    return (\r\n        <>\r\n             <h3>Add new transaction</h3>\r\n      <form onSubmit={onSubmit}>\r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"text\">Text</label>\r\n          <input type=\"text\" value={text}  onChange={(e)=>setText(e.target.value)}placeholder=\"Enter text...\" />\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label htmlFor=\"amount\"\r\n            >Amount <br />\r\n            (negative - expense, positive - income)</label\r\n          >\r\n          <input type=\"number\" value={amount}  onChange={(e)=>setAmount(e.target.value)}  placeholder=\"Enter amount...\" />\r\n        </div>\r\n        <button className=\"btn\">Add transaction</button>\r\n      </form>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\nimport {IncomeExpenses} from './components/IncomeExpenses';\nimport {Balance} from './components/Balance';\nimport {Header} from './components/header';\nimport {TransactionList} from './components/TransactionList';\nimport {AddTransaction} from './components/AddTransaction';\nimport {GlobalProvider} from './context/GlobalState';\nimport './App.css';\n\nfunction App() {\n  return (\n    <GlobalProvider>\n      \n      \n     <Header />\n     <div className=\"container\">\n       <Balance />\n       <IncomeExpenses />\n       <TransactionList />\n       <AddTransaction/>\n     </div>\n    </GlobalProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}